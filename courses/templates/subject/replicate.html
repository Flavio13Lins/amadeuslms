{% extends 'subject/index.html' %}

{% load static i18n permission_tags widget_tweaks %}

{% block breadcrumbs %}
	<ol class="breadcrumb">
	  	<li><a href="{% url 'app:index' %}">{% trans 'Home' %}</a></li>
	  	<li class="active">{% trans 'Replicate Subject' %}</li>
	</ol>
{% endblock %}

{% block content %}
<div class="panel panel-default">
    <div class="panel-body">
      <form class="form-group " method="post" action="">
        {% csrf_token %}
        
        <div class="form-group {% if subject.name.errors %} has-error{% endif %}">
          <label for="{{ id_name }}" class="control-label label-static"> {% trans 'Name' %}</label>
          <input class="form-control" id="id_name" maxlength="100" name="name" type="text" required="True" value="{{subject.name}}">
          <span class="help-block">{% trans 'Subject name' %}</span>

        </div>

        <div class="form-group {% if subject.name.errors %} has-error{% endif %}">
          <label for="{{ id_description }}" class="control-label label-static"> {% trans 'Description' %} </label>
          <textarea class="form-control" id="id_description" name="description" type="text" required="">{{subject.description}}</textarea>
          <span class="help-block">{% trans 'Subject Description' %}</span>

        </div>

        <div class="form-group {% if subject.name.errors %} has-error{% endif %}">
          <label for="{{ id_init_date }}" class="control-label label-static"> {% trans 'Init date' %}</label>
          <input type="text" class="form-control date-picker" name="{{field.name}}" value="{{field.value|date:'SHORT_DA E_FORMAT'}}" min="{{now|date:'SHORT_DATE_FORMAT'}}">
          <span class="help-block">{% trans 'Subject init date' %}</span>

        </div>

        <div class="form-group {% if subject.name.errors %} has-error{% endif %}">
          <label for="{{ id_end_date }}" class="control-label label-static"> {% trans 'End date' %}</label>
          <input type="text" class="form-control date-picker" name="{{field.name}}" value="{{field.value|date:'SHORT_DA E_FORMAT'}}" min="{{now|date:'SHORT_DATE_FORMAT'}}">
          <span class="help-block">{% trans 'Subject end date' %}</span>

        </div>
        <div class="form-group {% if subject.name.errors %} has-error{% endif %}">
          <label for="{{ id_visible }}" class="control-label label-static"> {% trans 'Visible?' %} </label>
          <input type="checkbox" class="form-control" id="id_visible" name="visible" required="true"/>
          <span class="help-block">{% trans 'Is it visible?' %}</span>

        </div>


        </div>
        
        <div class="col-lg-offset-4 col-lg-4">
          <button type="submit" class="btn btn-raised btn-primary btn-lg btn-block">{% trans 'Replicate' %}</button>
        </div>
      </form>

    </div>
  </div>

  <script type="text/javascript">
    var locale = navigator.language || navigator.userLanguage;

    $('.date-picker').datepicker({
        language: locale,
    });
    $(document).ready(function() {
        $('#id_description').summernote({height: 300});
    });
  </script>
{% endblock %}