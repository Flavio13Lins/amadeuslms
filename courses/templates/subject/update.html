{% extends 'subject/index.html' %}

{% load static i18n permission_tags widget_tweaks django_bootstrap_breadcrumbs course_value_field %}

{% block breadcrumbs %}
    {{ block.super }}
    {% breadcrumb 'Replicate subject' 'course:replicate_subject' %}
{% endblock breadcrumbs %}

{% block content %}

  <div class="panel panel-default">
    <div class="panel-body">
      <form class="form-group " method="post" action="">
        {% csrf_token %}
        {% for field in form %}
        <div class="form-group {% if field.errors %} has-error{% endif %}">
          {% if field.auto_id != 'id_visible' %}
            <label for="{{ field.auto_id }}"> {{ field.label }}</label>
          {% endif %}
          {% if field.auto_id == 'id_init_date' or field.auto_id == 'id_end_date'%}
              {% render_field field class='form-control date-picker'%}
          {% elif field.auto_id == 'id_visible' %}
          {% value_subject_field subject field.name as value_field %}
            <div class="checkbox">
              <label>
                  <input type="checkbox" name="{{field.name}}" {% if value_field %}checked="checked"{% endif %}><span class="checkbox-material"></span> {{field.name}}
              </label>
            </div>
          {% else %}
            {% if field.errors %}
              {% render_field field class='form-control' %}
            {% else %}
              {% if field.auto_id == 'id_description'%}
                <textarea class="form-control" cols="80" id="{{field.auto_id}}" name="{{field.name}}" rows="5">{{field.value}}</textarea>
              {% else %}
                {% render_field field class='form-control'%}
              {% endif %}
            {% endif %}
          {% endif %}
          <span class="help-block">{{ field.help_text }}</span>
          {% if field.errors %}
					<div class="row">
					</br>
							<div class="alert alert-danger alert-dismissible" role="alert">
			  					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			  						<span aria-hidden="true">&times;</span>
		  						</button>
								<ul>
									{% for error in field.errors %}
										<li>{{ error }}</li>
									{% endfor %}
								</ul>
							</div>
					</div>
					{% endif %}
        </div>
        {% endfor %}
        <div class="col-lg-offset-4 col-lg-4">
          <button type="submite" class="btn btn-raised btn-primary btn-lg btn-block">{% trans 'Update' %}</button>
        </div>
      </form>
    </div>
  </div>

  <script type="text/javascript">
    var locale = navigator.language || navigator.userLanguage;

    $('.date-picker').datepicker({
        language: locale,
        startDate: "dateToday",
    });
    $(document).ready(function() {
        $('#id_description').summernote();
    });
  </script>
{% endblock content %}
