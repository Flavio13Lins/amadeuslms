{% extends "subjects/list.html" %}

{% load static i18n pagination %}
{% load django_bootstrap_breadcrumbs subject_counter %}

{% block breadcrumbs %}
	{% clear_breadcrumbs %}
   	{% breadcrumb 'Home' 'subjects:home' %}
    {% with "You search for "|add:tags as term  %}
        {% breadcrumb  term 'subjects:index' %}
    {% endwith %}
   	

{% endblock breadcrumbs %}

 {% block sidebar %}
                    <ul id="sidebar-menu">
                        <li class="item " id="subjects-link" data-toggle="tooltip" data-placement="right" title="{% trans "Subjects" %}">
                            <a href="{% url 'subjects:index' %}">
                                <i class="fa fa-graduation-cap" aria-hidden="true"></i>
                            </a>
                        </li>
                        <li class="item" data-toggle="tooltip" data-placement="right" title="{% trans "Timeline" %}">
                            <i class="fa fa-list" aria-hidden="true" ></i>
                        </li>
                        <li class="item" data-toggle="tooltip" data-placement="right" title="{% trans "Messages" %}">
                            <i class="fa fa-envelope-o" aria-hidden="true"></i>
                        </li>
                        <li class="item" data-toggle="tooltip" data-placement="right" title="{% trans "Pendencias" %}">
                            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
                        </li>
                        <li class="item" data-toggle="tooltip" data-placement="right" title="{% trans "Analytics" %}">
                            <i class="fa fa-bar-chart" aria-hidden="true"></i>
                        </li>
                    </ul>
                {% endblock %}

{% block content %}

	 {% if messages %}
        {% for message in messages %}
            <script type="text/javascript">
                {% if message.tags == "danger" %}
                    alertify.error('{{message}}');
                {% else %}
                    alertify.success('{{message}}');
                {% endif %}
            </script>
        {% endfor %}
    {% endif %}
    {% if subjects|length > 0 %}
         <p id="search-results-title">{% trans "Search results" %}:</p>
    {% else %}
         <p id="search-results-title">{% trans "Search results" %}: {% trans " any subjects or resources were found on the search for " %}  {{tags}} </p>
    {% endif %}
    <div id="core-subjects-options-div">
        <ul class="core-subjects-options">
            {% if all %}
                <a href="{% url 'subjects:search' %}?search= {{tags}} "><li >{% trans "Subjects" %} ({{ totals.my_subjects }})</li></a>
                <a href="" ><li class="active">{% trans "Resources" %} ({{ totals.all_subjects }})</li></a>
            {% else %}
                <a href="{% url 'subjects:search' %}?search={{tags}}"><li class="active">{% trans "Subjects" %} ({{ totals.my_subjects }})</li></a>
                <a href="" ><li>{% trans "Resources" %} ({{ totals.all_subjects }})</li></a>
            {% endif %}
            
        </ul>
    </div>

   

    <div class="col-md-12 cards-content">
		

		{% if subjects|length > 0 %}
	    	<div class="panel-group" id="subject-accordion" role="tablist" aria-multiselectable="true">
				{% for subject in subjects %}
					{% include "subjects/subject_card.html" with accordion_id="subject-accordion" %}
				{% endfor %}
				
				{% pagination request paginator page_obj %}
			</div>
		{% else %}
			
		{% endif %}
	</div>

	<div id="modal_course">
    </div>

    <div id="modal_subject"></div>
    
    <script type="text/javascript" src="{% static 'js/category.js' %}"></script>
	
{% endblock content %}